{
  "accounting_term_conditions": [
    "jppfs_cor:NetSales",
    "jppfs_cor:OperatingRevenue1",
    "jppfs_cor:IncomeBeforeIncomeTaxes",
    "%OrdinaryIncome",
    "jppfs_cor:NetIncome",
    "%ProfitLoss",
    "jppfs_cor:OperatingIncome",
    "jppfs_cor:CostOfSales",
    "jppfs_cor:TotalAssets",
    "jppfs_cor:Assets",
    "jppfs_cor:ShareholdersEquity",
    "jppfs_cor:CashDividendsPaidFinCF",
    "jppfs_cor:PurchaseOfTreasuryStockFinCF",
    "jppfs_cor:NetCashProvidedByUsedInOperatingActivities",
    "jppfs_cor:NetCashProvidedByUsedInInvestmentActivities",
    "jppfs_cor:NetCashProvidedByUsedInFinancingActivities",
    "jppfs_cor:CurrentAssets",
    "jppfs_cor:CurrentLiabilities",
    "jppfs_cor:Inventories",
    "jppfs_cor:TotalDebt",
    "jppfs_cor:GrossProfit"
  ],
  "period_conditions": [
    "CurrentYearDuration",
    "CurrentYearInstant",
    "Prior1YearDuration"
  ],
  "query_template": "CREATE TABLE IF NOT EXISTS {output_table} AS SELECT AccountingTerm, Period, Currency, Amount, docID, edinetCode, docTypeCode, submitDateTime, periodStart, periodEnd FROM {input_table} WHERE (({accounting_term_query}) AND ({period_query}) AND (AccountingTerm LIKE 'jppfs_cor:%')) OR (AccountingTerm = 'jpcrp_cor:TotalNumberOfIssuedSharesSummaryOfBusinessResults' AND Period = 'CurrentYearInstant_NonConsolidatedMember') OR (AccountingTerm = 'jpcrp_cor:PriceEarningsRatioSummaryOfBusinessResults' AND Period = 'CurrentYearDuration')",
  "mappings": {
    "netIncome": ["jppfs_cor:NetIncome_CurrentYearDuration", "jppfs_cor:ProfitLoss_CurrentYearDuration"],
    "netIncome_PriorYear": ["jppfs_cor:NetIncome_Prior1YearDuration", "jppfs_cor:ProfitLoss_Prior1YearDuration"],
    "netSales": ["jppfs_cor:NetSales_CurrentYearDuration", "jppfs_cor:OperatingRevenue1_CurrentYearDuration"],
    "netSales_PriorYear": ["jppfs_cor:NetSales_Prior1YearDuration", "jppfs_cor:OperatingRevenue1_Prior1YearDuration"],
    "operatingIncome": ["jppfs_cor:OperatingIncome_CurrentYearDuration"],
    "operatingIncome_PriorYear": ["jppfs_cor:OperatingIncome_Prior1YearDuration"],
    "grossProfit": ["jppfs_cor:GrossProfit_CurrentYearDuration"],
    "grossProfit_PriorYear": ["jppfs_cor:GrossProfit_Prior1YearDuration"],
    "totalAssets": ["jppfs_cor:Assets_CurrentYearInstant", "jppfs_cor:TotalAssets_CurrentYearInstant"],
    "totalAssets_PriorYear": ["jppfs_cor:Assets_Prior1YearInstant", "jppfs_cor:TotalAssets_Prior1YearInstant"],
    "totalDebt": ["jppfs_cor:TotalDebt_CurrentYearInstant", "jppfs_cor:LongTermLoansPayable_CurrentYearInstant"],
    "totalDebt_PriorYear": ["jppfs_cor:TotalDebt_Prior1YearInstant", "jppfs_cor:LongTermLoansPayable_Prior1YearInstant"],
    "shareholdersEquity": ["jppfs_cor:ShareholdersEquity_CurrentYearInstant"],
    "shareholdersEquity_PriorYear": ["jppfs_cor:ShareholdersEquity_Prior1YearInstant"],
    "currentAssets": ["jppfs_cor:CurrentAssets_CurrentYearInstant"],
    "currentAssets_PriorYear": ["jppfs_cor:CurrentAssets_Prior1YearInstant"],
    "currentLiabilities": ["jppfs_cor:CurrentLiabilities_CurrentYearInstant"],
    "currentLiabilities_PriorYear": ["jppfs_cor:CurrentLiabilities_Prior1YearInstant"],
    "inventories": ["jppfs_cor:Inventories_CurrentYearInstant"],
    "inventories_PriorYear": ["jppfs_cor:Inventories_Prior1YearInstant"],
    "costOfSales": ["jppfs_cor:CostOfSales_CurrentYearDuration"],
    "costOfSales_PriorYear": ["jppfs_cor:CostOfSales_Prior1YearDuration"],
    "dividends": ["jppfs_cor:CashDividendsPaidFinCF_CurrentYearDuration"],
    "dividends_PriorYear": ["jppfs_cor:CashDividendsPaidFinCF_Prior1YearDuration"],
    "buybacks": ["jppfs_cor:PurchaseOfTreasuryStockFinCF_CurrentYearDuration"],
    "buybacks_PriorYear": ["jppfs_cor:PurchaseOfTreasuryStockFinCF_Prior1YearDuration"],
    "operatingCashflow": ["jppfs_cor:NetCashProvidedByUsedInOperatingActivities_CurrentYearDuration"],
    "operatingCashflow_PriorYear": ["jppfs_cor:NetCashProvidedByUsedInOperatingActivities_Prior1YearDuration"],
    "investmentCashflow": ["jppfs_cor:NetCashProvidedByUsedInInvestmentActivities_CurrentYearDuration"],
    "investmentCashflow_PriorYear": ["jppfs_cor:NetCashProvidedByUsedInInvestmentActivities_Prior1YearDuration"],
    "financingCashflow": ["jppfs_cor:NetCashProvidedByUsedInFinancingActivities_CurrentYearDuration"],
    "financingCashflow_PriorYear": ["jppfs_cor:NetCashProvidedByUsedInFinancingActivities_Prior1YearDuration"],
    "SharesOutstanding" : ["jpcrp_cor:TotalNumberOfIssuedSharesSummaryOfBusinessResults_CurrentYearInstant_NonConsolidatedMember"],
    "PE_Ratio" : ["jpcrp_cor:PriceEarningsRatioSummaryOfBusinessResults_CurrentYearDuration"]
  },
  "ratios": [
    {"output": "Cashflow_free", "expression": {"operator": "+", "operands": [{"column": "operatingCashflow", "fillna": 0}, {"column": "investmentCashflow", "fillna": 0}]}},
    {"output": "Cashflow_equity", "expression": {"operator": "+", "operands": [{"column": "dividends", "fillna": 0}, {"column": "buybacks", "fillna": 0}]}},
    {"output": "Cashflow_debt", "expression": {"operator": "-", "operands": [{"column": "financingCashflow", "fillna": 0}, {"column": "Cashflow_equity", "fillna": 0}]}},
    {"output": "NCAV", "expression": {"operator": "-", "operands": [{"column": "currentAssets", "fillna": 0}, {"operator": "-", "operands": [{"column": "totalAssets", "fillna": 1}, {"column": "shareholdersEquity", "fillna": 1}]}]}},
    {"output": "Ratio_Current", "expression": {"operator": "/", "operands": [{"column": "currentAssets", "fillna": 0}, {"column": "currentLiabilities", "fillna": 1}]}},
    {"output": "Ratio_QuickRatio", "expression": {"operator": "/", "operands": [{"operator": "-", "operands": [{"column": "currentAssets", "fillna": 0}, {"column": "inventories", "fillna": 0}]}, {"column": "currentLiabilities", "fillna": 1}]}},
    {"output": "Ratio_LiquidAssets", "expression": {"operator": "/", "operands": [{"column": "currentAssets", "fillna": 0}, {"column": "totalAssets", "fillna": 1}]}},
    {"output": "Ratio_DebtToEquity", "expression": {"operator": "/", "operands": [{"column": "totalDebt", "fillna": 0}, {"column": "shareholdersEquity", "fillna": 1}]}},
    {"output": "Ratio_DebtToAssets", "expression": {"operator": "/", "operands": [{"column": "totalDebt", "fillna": 0}, {"column": "totalAssets", "fillna": 1}]}},
    {"output": "Ratio_ReturnOnEquity", "expression": {"operator": "/", "operands": [{"column": "netIncome", "fillna": 0}, {"column": "shareholdersEquity", "fillna": 1}]}},
    {"output": "Ratio_ReturnOnAssets", "expression": {"operator": "/", "operands": [{"column": "netIncome", "fillna": 0}, {"column": "totalAssets", "fillna": 1}]}},
    {"output": "Ratio_GrossMargin", "expression": {"operator": "/", "operands": [{"column": "grossProfit", "fillna": 0}, {"column": "netSales", "fillna": 1}]}},
    {"output": "Ratio_OperatingMargin", "expression": {"operator": "/", "operands": [{"column": "operatingIncome", "fillna": 0}, {"column": "netSales", "fillna": 1}]}},
    {"output": "Ratio_NetProfitMargin", "expression": {"operator": "/", "operands": [{"column": "netIncome", "fillna": 0}, {"column": "netSales", "fillna": 1}]}},
    {"output": "Ratio_AssetTurnover", "expression": {"operator": "/", "operands": [{"column": "netSales", "fillna": 0}, {"column": "totalAssets", "fillna": 1}]}},
    {"output": "Ratio_InventoryTurnover", "expression": {"operator": "/", "operands": [{"column": "costOfSales", "fillna": 0}, {"column": "inventories", "fillna": 1}]}},
    {"output": "Ratio_BuybackPayout", "expression": {"operator": "/", "operands": [{"operator": "*", "operands": [{"value": -1}, {"column": "buybacks", "fillna": 0}]}, {"column": "netIncome", "fillna": 1}]}},
    {"output": "Ratio_ShareholderPayout", "expression": {"operator": "/", "operands": [{"operator": "*", "operands": [{"value": -1}, {"column": "Cashflow_equity"}]}, {"column": "netIncome", "fillna": 1}]}},
    {"output": "Ratio_DividendPayout", "expression": {"operator": "/", "operands": [{"operator": "*", "operands": [{"value": -1}, {"column": "dividends", "fillna": 0}]}, {"column": "netIncome", "fillna": 1}]}},
    {"output": "Ratio_FreeCashflowMargin", "expression": {"operator": "/", "operands": [{"column": "Cashflow_free"}, {"column": "netSales", "fillna": 1}]}},
    {"output": "Ratio_CashflowToEquityMargin", "expression": {"operator": "/", "operands": [{"column": "Cashflow_equity"}, {"column": "netSales", "fillna": 1}]}},
    {"output": "Ratio_CashflowToDebtMargin", "expression": {"operator": "/", "operands": [{"column": "Cashflow_debt"}, {"column": "netSales", "fillna": 1}]}},
    {"output": "Ratio_netSales_Growth", "expression": {"operator": "-", "operands": [{"operator": "/", "operands": [{"column": "netSales", "fillna": 0}, {"column": "netSales_PriorYear", "fillna": {"column": "netSales", "fillna": 1}}]}, {"value": 1}]}},
    {"output": "Ratio_netIncome_Growth", "expression": {"operator": "-", "operands": [{"operator": "/", "operands": [{"column": "netIncome", "fillna": 0}, {"column": "netIncome_PriorYear", "fillna": {"column": "netIncome", "fillna": 1}}]}, {"value": 1}]}},
    {"output": "PerShare_BookValue", "expression": {"operator": "/", "operands": [{"column": "shareholdersEquity", "fillna": 0}, {"column": "SharesOutstanding", "fillna": 1}]}},
    {"output": "PerShare_Earnings", "expression": {"operator": "/", "operands": [{"column": "netIncome", "fillna": 0}, {"column": "SharesOutstanding", "fillna": 1}]}},
    {"output": "PerShare_Sales", "expression": {"operator": "/", "operands": [{"column": "netSales", "fillna": 0}, {"column": "SharesOutstanding", "fillna": 1}]}},
    {"output": "PerShare_NCAV", "expression": {"operator": "/", "operands": [{"column": "NCAV"}, {"column": "SharesOutstanding", "fillna": 1}]}},
    {"output": "PerShare_Cashflow_free", "expression": {"operator": "/", "operands": [{"column": "Cashflow_free"}, {"column": "SharesOutstanding", "fillna": 1}]}},
    {"output": "PerShare_Cashflow_equity", "expression": {"operator": "/", "operands": [{"column": "Cashflow_equity"}, {"column": "SharesOutstanding", "fillna": 1}]}},
    {"output": "PerShare_Cashflow_debt", "expression": {"operator": "/", "operands": [{"column": "Cashflow_debt"}, {"column": "SharesOutstanding", "fillna": 1}]}},
    {"output": "PerShare_Dividends", "expression": {"operator": "/", "operands": [{"operator": "*", "operands": [{"value": -1}, {"column": "dividends", "fillna": 0}]}, {"column": "SharesOutstanding", "fillna": 1}]}},
    {"output": "PerShare_Buybacks", "expression": {"operator": "/", "operands": [{"operator": "*", "operands": [{"value": -1}, {"column": "buybacks", "fillna": 0}]}, {"column": "SharesOutstanding", "fillna": 1}]}},
    {"output": "PerShare_TotalPayout", "expression": {"operator": "+", "operands": [{"column": "PerShare_Buybacks"}, {"column": "PerShare_Dividends"}]}},
    {"output": "PerShare_SharePrice", "expression": {"operator": "*", "operands": [{"column": "PerShare_Earnings"}, {"column": "PE_Ratio", "fillna": 1}]}},
    {"output": "Ratio_PriceEarnings", "expression": {"operator": "/", "operands": [{"column": "PerShare_SharePrice"}, {"column": "PerShare_Earnings", "fillna": 1}]}},
    {"output": "Ratio_EarningsYield", "expression": {"operator": "/", "operands": [{"column": "PerShare_Earnings"}, {"column": "PerShare_SharePrice", "fillna": 1}]}},
    {"output": "Ratio_PriceBook", "expression": {"operator": "/", "operands": [{"column": "PerShare_SharePrice"}, {"column": "PerShare_BookValue", "fillna": 1}]}},
    {"output": "Ratio_PriceNCAV", "expression": {"operator": "/", "operands": [{"column": "PerShare_SharePrice"}, {"column": "PerShare_NCAV", "fillna": 1}]}},
    {"output": "Ratio_FreeCashflowYield", "expression": {"operator": "/", "operands": [{"column": "PerShare_Cashflow_free"}, {"column": "PerShare_SharePrice", "fillna": 1}]}},
    {"output": "Ratio_DividendsYield", "expression": {"operator": "/", "operands": [{"column": "PerShare_Dividends"}, {"column": "PerShare_SharePrice", "fillna": 1}]}},
    {"output": "Ratio_BuybacksYield", "expression": {"operator": "/", "operands": [{"column": "PerShare_Buybacks"}, {"column": "PerShare_SharePrice", "fillna": 1}]}},
    {"output": "Ratio_TotalPayoutYield", "expression": {"operator": "/", "operands": [{"column": "PerShare_TotalPayout"}, {"column": "PerShare_SharePrice", "fillna": 1}]}},
    {"output": "MarketCap", "expression": {"operator": "*", "operands": [{"column": "PerShare_SharePrice"}, {"column": "SharesOutstanding", "fillna": 1}]}}
  ],
  "standard_column_mapping": {
    "要素ID": "AccountingTerm",
    "コンテキストID": "Period",
    "ユニットID": "Currency",
    "値": "Amount"
  }
}